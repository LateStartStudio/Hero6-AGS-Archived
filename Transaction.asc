
bool checkmoney(short s, short g) {
  short totalcost, totalcash;
  if (g == 0)
    g = 0;
  totalcost = g*5 + s;
  totalcash = heroinfo.gold*5 + heroinfo.silver;
  if (totalcost > totalcash)
    return false;
  else
    return true;
}

bool herobuy(short s, short g) {
  short totalcost, totalcash;
  if (g == 0)
    g = 0;
  totalcost = g*5 + s;
  totalcash = heroinfo.gold*5 + heroinfo.silver;
  if (totalcost > totalcash) {
    return false;
  } else {
  	heroinfo.silver = heroinfo.silver - totalcost;
		while (heroinfo.silver < 0) {
			if (heroinfo.gold > 0) {
				heroinfo.gold = heroinfo.gold -1;
				heroinfo.silver = heroinfo.silver+5;
			}
		}	
    return true;
  }
}

bool PurchaseItem(InventoryItem* i, String msg) {
	if (herobuy(i.GetProperty("Cost"), 0)) {
	  cEgo.AddInventory(i);
		Display(msg);
		return true;
	} else {
		Display("You don't have enough money for the purchase.");
		return false;
	}
}
