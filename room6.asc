//bool notyet = false;

/* Events */
function postFade() {  // script for Room: Player enters room (after fadein)
  if (flags.Chapter > 0 && flags.MobOccuring != 1) PlayMusic(10);

  if (flags.Chapter == 2 && flags.MobOccuring == 1) {
    DisplayMessage(15);
    cEgo.ChangeRoom(4, 3, 180);
  }
  
}

function preFade() {  
  // put this here so that it doesn't interfere with the guard desc
  if (isDaytime()) oNorthgate.Graphic = 259;
  else oNorthgate.Graphic = 258;
}

function firstEntry(){
}

function onExit(){
}

function repExec(){
}

function exitSouth(){
  player.ChangeRoomAutoPosition(2);
}

function exitWest(){
}

function exitEast(){
  player.ChangeRoom(5, 2, 180);
}

function exitNorth(){
  player.ChangeRoomAutoPosition(11);
}

/* Objects */

/* Hotspots */
function hGateHouse_Look(){
  Display("Two guardposts guard the gate between the city and the castle.");
}

function hGateHouse_Interact(){
  Display("You can't reach them!");
}

function hGateHouse_Talk(){
  Display("You call out to the guard to open the gate.");
  Display("But the guard hasn't been programmed to open the gate yet, so he stands there, and looks at you funny.");
}

function hSheriffOffice_Look(){
  Display("This must be the sheriff's office. The building looks sturdy and austere, fitting for a keeper of the law.");
}

function hSheriffOffice_Interact(){
  Display("The stones that make up the walls are smooth and cool to the touch. There is nothing out of the ordinary.");
}

function hSheriffOffice_Talk(){
  Display("You consider shouting for the sheriff to come out and face you but quickly abandon the foolish idea. If only you hadn't left your six-shooter in your other pair of trousers...");
}

function hSheriffDoor_Interact(){
  if (flags.Chapter == 2 && flags.MobOccuring == 1) {
    DisplayMessage(524);
    return;
  }
  cEgo.Walk(122, 182,eBlock,eWalkableAreas);

  if (isDaytime()) cEgo.ChangeRoom(15,310,185);
  else Display("The sheriff has locked up tight his office for the night. Nobody will disturb his dreams of justice. NOBODY!");   
}

function hFlanaginInn_Look(){
  Display("The Inn, just waiting for you to go in.");
}

function hFlanaginInn_Interact(){
  house_use();
}

function hFlanaginInn_Talk(){
  house_talk();
}

function hFlanaginInnDoor_Look(){
  Display("The door to the inn. Mouthwatering smells of cooking escape from small cracks in the wood.");
}

function hFlanaginInnDoor_Talk(){
  Display("You bare your soul into a heartfelt confession, but the door remains unmoved.");
}

function hFlanaginInnDoor_Interact() {
  cEgo.Walk(299, 217,eBlock,eWalkableAreas);
  if (flags.Chapter == 2 && flags.MobOccuring == 1) {
    DisplayMessage(524);
    return;
  }
  //if (isday()) cEgo.ChangeRoom(10,-15,220);
  cEgo.ChangeRoom(10,-15,220); 
}

/* Regions */
function rGateTrigger() {  // script for Region 2: Player walks onto region
}